(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(64)},39:function(e,t,a){},40:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),l=a.n(i),o=(a(39),a(8)),c=a(21),s=a(22),d=a(32),h=a(23),u=a(7),m=a(31),p=(a(40),a(24)),w=a.n(p),b=a(66),v=a(67),g=a(25),f=a(69),E=a(70),O=a(68),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={search:window.location.hash.substr(1),loading:!1,result:[]},a._initializeLoad=a._initializeLoad.bind(Object(u.a)(a)),a.handleOnChange=a.handleOnChange.bind(Object(u.a)(a)),a.handleOnSubmit=a.handleOnSubmit.bind(Object(u.a)(a)),a._parseWeatherData=a._parseWeatherData.bind(Object(u.a)(a)),a._renderSpinnerOrChart=a._renderSpinnerOrChart.bind(Object(u.a)(a)),""!==a.state.search&&a._initializeLoad(a.state.search),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleOnChange",value:function(e){var t=Object(o.a)({},this.state);t.search=e.target.value,this.setState(t)}},{key:"handleOnSubmit",value:function(e){e.preventDefault();var t=Object(o.a)({},this.state);t.loading=!0,t.result=[],this.setState(t);var a=t.search;window.location.hash=a}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(b.a,null,r.a.createElement(v.a,null,r.a.createElement(g.a,{className:"text-left"},r.a.createElement("div",{className:"attribution"},"Data provided by: ",r.a.createElement("a",{href:"https://www.weatherbit.io/"},"Weatherbit")))),r.a.createElement(v.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,{onSubmit:this.handleOnSubmit},r.a.createElement(f.a.Group,{controlId:"formLocation"},r.a.createElement(f.a.Control,{type:"text",placeholder:"Location",autoFocus:!0,onChange:this.handleOnChange,value:this.state.search}))))),r.a.createElement(v.a,null,r.a.createElement(g.a,null,this._renderSpinnerOrChart()))))}},{key:"_initializeLoad",value:function(e){var t=this,a="https://api.weatherbit.io/v1.0/forecast/hourly/geosearch?city="+e+"&key=3025f627f2d5456f92e0b52cf752d758";w.a.get(a).then(function(e){var a=Object(o.a)({},t.state);a.result=t._parseWeatherData(e.data),a.loading=!1,t.setState(a)}).catch(function(e){console.error(e);var a=Object(o.a)({},t.state);a.loading=!1,t.setState(a),alert("Could not load weather data for location, please change your term or see the error log")})}},{key:"_parseWeatherData",value:function(e){var t={},a=!0,n=!1,r=void 0;try{for(var i,l=e.data[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var o=i.value,c=o.ts,s=null;(s=t[c]?t[c]:{key:c,date:o.timestamp_local,rain:0,temperature:0,windSpeed:0,windDirection:0,symbol:"",description:""}).symbol=o.weather.icon,s.description=o.weather.description,s.rain=o.precip.toFixed(3),s.temperature=o.temp,s.windSpeed=o.wind_spd.toFixed(2),s.windDirection=o.wind_dir,t[c]=s}}catch(d){n=!0,r=d}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}return Object.values(t)}},{key:"_renderSpinnerOrChart",value:function(){return!this.state.loading&&this.state.result.length?r.a.createElement("div",{className:"weather-output"},r.a.createElement(E.a,{className:"list-group-horizontal"},this.state.result.map(function(e){var t,a="https://www.weatherbit.io/static/img/icons/"+e.symbol+".png",n={transform:"rotate("+e.windDirection+"deg)"},i=new Date(e.date),l=i.getDate()+"-"+(i.getMonth()+1)+"-"+i.getFullYear(),o=i.toTimeString().substr(0,5),c=Math.round(e.temperature);return t=e.rain>0&&e.rain<1?"< 1":e.rain<1?0:parseFloat(e.rain).toFixed(2),r.a.createElement(E.a.Item,{key:e.key},r.a.createElement("div",{className:"date-item"},r.a.createElement("div",null,l),r.a.createElement("div",null,o)),r.a.createElement("div",null,r.a.createElement("img",{src:a,alt:e.description,title:e.description,width:"64",height:"64"})),r.a.createElement("div",null,c,"\xb0"),r.a.createElement("div",null,t," mm"),r.a.createElement("div",null,e.windSpeed," m/s",r.a.createElement("span",{className:"wind-direction",style:n},"\u2193")))}))):this.state.loading?r.a.createElement(O.a,{animation:"grow"}):null}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.c2cbd94c.chunk.js.map